# ===================================================================
# VERSÃO FINAL E COMPLETA - Colocar na pasta raiz (public_html)
# Oculta a extensão .php e redireciona o tráfego.
# ===================================================================

# Ativa o motor de reescrita de URL
RewriteEngine On

# Impede que o servidor liste o conteúdo das pastas se não houver um ficheiro index
Options -Indexes

# --- Regra 1: Redirecionar o utilizador para a URL "limpa" ---
# Se alguém acidentalmente escrever /public/login.php, esta regra
# redireciona-o para /public/login (remove o .php)
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R=301,L]

# --- Regra 2: Reescrever internamente a URL para o ficheiro PHP ---
# Quando o servidor recebe um pedido para /public/login, ele mostra
# o conteúdo de /public/login.php sem mudar o URL no navegador.
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ $1.php [L,QSA]
